<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="charset" content="utf-8">
    <link rel="stylesheet" type="text/css" href="bootstrap3/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="bootstrap3/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="js/jquery-2.0.3.min.js"></script>
</head>
<body style="width:800px;height:100%">
<div class="container">
        <ul class="nav nav-pills">
            <li class="active">
                <a href="#inventoryTab" data-toggle="tab">My inventory</a></li>
            <li><a href="#importTab" data-toggle="tab">Import</a></li>
            <li><a href="#advancedTab" data-toggle="tab">Advanced</a></li>
            <li><a id="closeWindow" href="#" class="btn btn-default">Close</a></li>
        </ul>
    <div class="tab-content">
        <div class="tab-pane active" id="inventoryTab">
            <button id="sortByDateDesc" class="btn btn-default">sort by date</button>
            <!-- ko foreach: pitems -->
            <div class="row">
                <div class="col-sm-2">
                    <img data-bind="attr: { src: image }" src="http://placehold.it/100x79" class="img-thumbnail">
                </div>
                <div class="col-sm-8">
                    <h5 style="text-align: center" data-bind="text: name"></h5>
                    <table class="table table-condensed">
                        <tr>
                            <td>Owned since</td>
                            <td data-bind="text: $root.formatDate(ownedFrom)"></td>
                        </tr>
                        <tr>
                            <td>ASIN</td>
                            <td data-bind="text: asin"></td>
                        </tr>

                    </table>
                </div>
            </div>
            <!-- /ko -->
            <div data-bind="visible: noPItemsYet()" class="row">
                <p>There are no items in your inventory. <br>
                    Why not add one? <button class="btn btn-primary"><i class="glyphicon glyphicon-plus"></i> Add new item</button></p>
            </div>
        </div>


        <div class="tab-pane" id="importTab">
            <h4>Import a list of your purchases from <img src="img/amazon_logo.jpg"></h4>
            <div class="row">
                <div class="col-md-6">
                    <p>
                    <button id="import_amazon_items" class="btn btn-default"
                            data-bind="
                text: importTabActionBtnLabel,
                disable: importTabActionBtnDisabled,
                visible: importState() != 'IMPORT_DONE'">Go to Amazon Order History
                    </button>
                    </p>
                    <div data-bind="visible: importState() == 'IMPORT_IN_PROGRESS'">
                        <p>Found <span data-bind="text: scannedItemCount">0</span> item(s) sofar...</p>
                    <div class="progress progress-striped active">
                        <div class="progress-bar"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                            <span class="sr-only">In progress...</span>
                        </div>
                    </div>
                    </div>

                    <div data-bind="visible: importState() == 'IMPORT_DONE'">
                    <p>Found <span data-bind="text: scannedItemCount">0</span> item(s).</p>
                    <p>Imported <span data-bind="text: importTabImportCount">0</span> new item(s).</p></div>
                </div>
            </div>
        </div>
        <div class="tab-pane" id="advancedTab">
            <h4>For advanced users</h4>
            <p>
                <button data-toggle="modal" href="#deleteAllItemsModal" class="btn btn-danger"><i class="glyphicon glyphicon-trash"></i> Empty
                    inventory
                </button>
            </p>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="deleteAllItemsModal" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Irreversible operation!</h4>
            </div>
            <div class="modal-body">
                You are about to delete <strong>all the items</strong> in your inventory.<br>
                This <strong>cannot</strong> be undone.<br>
                Are you sure you want to proceed?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button id="emptyInventoryBtn" type="button" class="btn btn-primary" data-dismiss="modal">Yes, nuke 'em all</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script type="text/javascript" src="js/underscore-1.5.2.js"></script>
<script type="text/javascript" src="bootstrap3/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/knockout-2.3.0.js"></script>
<script type="text/javascript" src="js/drawer.js"></script>
<script type="text/javascript" src="js/amazon_import_ui.js"></script>
</body>
</html>